---
layout: post
title: Prism 2 (Composite Application Guidance for WPF & Silverlight) migrated to
  Silverlight 4 Beta
categories:
- Composite Application Guidance for WPF &amp; SL
- p&amp;p
- Patterns &amp; Practices
- Prism-v2
- Prism-v2.1
- Silverlight
- Silverlight 4
- Silverlight 4 Beta
- Visual Studio 2010
- Visual Studio 2010 Beta 2
- Windows Presentation Foundation
- WPF
tags:
- Composite Application Guidance for WPF &amp; SL
- p&amp;p
- Patterns &amp; Practices
- Prism-v2
- Prism-v2.1
- Silverlight 4
- Silverlight 4 Beta
- Siverlight
- Visual Studio 2010
- Visual Studio 2010 Beta 2
- Windows Presentation Foundation
- WPF
status: publish
comments: true
type: post
published: true
meta:
  _edit_last: '15'
  dsq_thread_id: '1552821198'
author:
  login: dschenkelman
  email: damian.schenkelman@gmail.com
  display_name: Damian Schenkelman
  first_name: Damian
  last_name: Schenkelman
---
<p>Most of you know that a <a href="http://silverlight.net/getstarted/silverlight-4-beta/" target="_blank">Silverlight 4 Beta</a> was released last Wednesday, after <a href="http://weblogs.asp.net/scottgu/" target="_blank">Scott Gu's</a> PDC <a href="http://microsoftpdc.com/Sessions/KEY02" target="_blank">keynote</a>. If you are a Prism user, and if you are reading this there's a high chance you are, you are probably wondering how this relates to p&amp;p future plans. Well, <a href="https://blogs.msdn.com/blaine/" target="_blank">Blaine</a> has given us a brief idea of Prism's future in <a href="http://compositewpf.codeplex.com/Thread/View.aspx?ThreadId=75604" target="_blank">this forum thread</a>, so you might want to check it out.</p>
<p>On a related but different subject <a href="http://blogs.southworks.net/fantivero/" target="_blank">Fernando</a> and I migrated the <a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=387c7a59-b217-4318-ad1b-cbc2ea453f40&amp;displaylang=en" target="_blank">latest Prism release</a> to Silverlight 4 Beta version &amp; Net 4.0. A few minor changes needed to be done in the code (explained <a href="http://blogs.southworks.net/dschenkelman/2009/11/09/prism-2-composite-application-guidance-for-wpf-silverlight-migrated-to-visual-studio-2010-beta-2/" target="_blank">here</a>), and some other in the <strong>.csproj</strong> files due to an issue we came up using the Silverlight migration wizard.</p>
<h2>Migration Issues</h2>
<p>After going through the migration wizard, you will notice that all Silverlight projects are not loaded. This is because they are still looking for the 3.0 installation directory instead of 4.0 as you can see in the picture below.</p>
<p><a href="http://blogs.southworks.net/dschenkelman/files/2009/11/image2.png"><img src="http://blogs.southworks.net/dschenkelman/files/2009/11/image-thumb2.png" border="0" alt="image" width="736" height="160" /></a></p>
<p>To fix this issue you need to edit your .csproj file and redirect it to the Silverlight 4 directory. The line that is related to this issue is the following:</p>
<pre><span style="color: blue">&lt;</span><span style="color: #a31515">Import </span><span style="color: red">Project</span><span style="color: blue">=</span>"<span style="color: blue">$(MSBuildExtensionsPath32)\Microsoft\Silverlight\$(SilverlightVersion)
\Microsoft.Silverlight.CSharp.targets</span>" <span style="color: blue">/&gt;</span></pre>
<p>Here you have two options:</p>
<ol>
<li>Replace "$(SilverlightVersion)" for "v4.0".</li>
<li>Modify any existing declarations of "<strong>SilverlightVersion</strong>" in your file and update them to 4.0. Take into account that some of them might be using the <strong>"FrameworkVersion"</strong>. The code below shows this situation:
<pre><span style="color: blue">&lt;</span><span style="color: #a31515">TargetFrameworkVersion</span><span style="color: blue">&gt;</span>v3.5<span style="color: blue">&lt;/</span><span style="color: #a31515">TargetFrameworkVersion</span><span style="color: blue">&gt;
&lt;</span><span style="color: #a31515">SilverlightVersion</span><span style="color: blue">&gt;</span>$(TargetFrameworkVersion)<span style="color: blue">&lt;/</span><span style="color: #a31515">SilverlightVersion</span><span style="color: blue">&gt;</span></pre>
</li>
</ol>
<h2>Prism Migrated Download</h2>
<p>If you want to save some time, you can download the CAL, Quickstarts and RI from <a href="http://cid-09f63fc7ac065e5e.skydrive.live.com/self.aspx/p%5E0p%20Samples/Prism2.1SL4.zip">here</a>. The code is provided "AS IS" with no warranties and confers no rights and is shipped under the "works on our machine" license.</p>
<p>Have fun coding in Silverlight 4!!!</p>
